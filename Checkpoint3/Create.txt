--
-- File generated with SQLiteStudio v3.4.3 on Thu Mar 9 18:56:37 2023
--
-- Text encoding used: System
--
PRAGMA foreign_keys = off;
BEGIN TRANSACTION;

-- Table: COMMUNITY
CREATE TABLE IF NOT EXISTS COMMUNITY
(City varchar(20),
 Join_code varchar(8),
 primary key(city)
 );

-- Table: DRONE
CREATE TABLE IF NOT EXISTS DRONE (Volume_capacity int, Distance_autonomy int, Max_speed int, Fleet_id int, Serial_num varchar (20) REFERENCES ELEMENT (Serial_number), FOREIGN KEY (Serial_num) REFERENCES ELEMENT (Serial_number));

-- Table: ELEMENT
CREATE TABLE IF NOT EXISTS ELEMENT (Serial_number varchar (20), Model varchar (20), Name varchar (20), Manufacturer varchar (20), Warranty_expiration varchar (10), Status booolean, Year int, Address varchar (50) REFERENCES WAREHOUSE (Address), PRIMARY KEY (serial_number));

-- Table: EQUIPMENT
CREATE TABLE IF NOT EXISTS EQUIPMENT (Equipment_type varchar (20), Weight int, Arrival_date varchar (10), Size varchar (25), Inventory_id int, Drone_capacity int, Serial_num varchar (20), PRIMARY KEY (inventory_id), FOREIGN KEY (Serial_num) REFERENCES ELEMENT (Serial_number));

-- Table: MAINTENANCE_RECORD
CREATE TABLE IF NOT EXISTS MAINTENANCE_RECORD (Date_time varchar (18), Description varchar (60), Hours int, Phone varchar (15) REFERENCES PERSON (First_name), Serial_num varchar (20) REFERENCES ELEMENT (Serial_number), PRIMARY KEY (date_time));

-- Table: ORDER_HISTORY
CREATE TABLE IF NOT EXISTS ORDER_HISTORY (Date_time_arrival varchar (18) PRIMARY KEY, Description varchar (100), Element_type varchar (20), Value int, Address varchar (50) REFERENCES WAREHOUSE (Address), Serial_num varchar (20) REFERENCES ELEMENT (Serial_number));

-- Table: PAYMENT
CREATE TABLE IF NOT EXISTS PAYMENT (Date_time varchar (18), Type varchar (10), Amount int, Rental_num int REFERENCES RENTAL (Rental_number), Phone varchar (15) REFERENCES PERSON (Phone), PRIMARY KEY (date_time));

-- Table: PERSON
CREATE TABLE IF NOT EXISTS PERSON (First_name varchar (20) NOT NULL, Last_name varchar (20) NOT NULL, Home_Address varchar (50), Phone varchar (15), Email varchar (50), Employee_id int, User_id int, Emp_Start_Date varchar (10), Wage int, is_Emp boolean, is_Mem boolean, Warehouse_distance int, Activated boolean, Start_Date varchar (10), City varchar (20) REFERENCES COMMUNITY (City), Address varchar (50) REFERENCES WAREHOUSE (Address), PRIMARY KEY (phone));

-- Table: RENTAL
CREATE TABLE IF NOT EXISTS RENTAL (Due_date varchar (10), Status boolean, Payment_received boolean, Rental_number int, Rental_date_time varchar (18), Checkout_date_time varchar (18), Phone varchar (15), Address varchar (50) REFERENCES WAREHOUSE (Address), PRIMARY KEY (rental_number), FOREIGN KEY (Phone) REFERENCES PERSON (Phone));

-- Table: RENTAL_DRONE
CREATE TABLE IF NOT EXISTS RENTAL_DRONE (Rental_num int REFERENCES RENTAL (Rental_number), Serial_num varchar (20) REFERENCES ELEMENT (Serial_number));

-- Table: RENTAL_EQUIPMENT
CREATE TABLE IF NOT EXISTS RENTAL_EQUIPMENT (Rental_num int REFERENCES RENTAL (Rental_number), Serial_num varchar (20) REFERENCES ELEMENT (Serial_number));

-- Table: REVIEW
CREATE TABLE IF NOT EXISTS REVIEW (Date_time varchar (18), Rating int, Comments varchar (120), Serial_Num varchar (20) REFERENCES ELEMENT (Serial_number), Phone varchar (15) REFERENCES PERSON (Phone), Rental_Num int REFERENCES RENTAL (Rental_number), PRIMARY KEY (date_time));

-- Table: WAREHOUSE
CREATE TABLE IF NOT EXISTS WAREHOUSE (City varchar (20), Address varchar (45), Phone varchar (15), Manager_name varchar (20), Storage_capacity int, PRIMARY KEY (address));

COMMIT TRANSACTION;
PRAGMA foreign_keys = on;


 



